Feature: Калькулятор и журнал вычислений
  Как пользователь калькулятора
  Я хочу выполнять операции над числами в разных системах счисления
  Чтобы получать результат и видеть историю операций в БД

  Background:
    Given база данных очищена и подготовлена начальными данными

  # Сценарий с несколькими аргументами (несколько скалярных параметров)
  Scenario: Сложение двух чисел в разных системах
    When я вычисляю операцию ADD для "A" в базе 16 и "10" в базе 10
    Then результат должен быть "20"

  # Сценарий с передачей коллекции через таблицу
  Scenario Outline: Пакетные вычисления с таблицей примеров
    When я последовательно вычисляю операции
      | a   | aBase | b   | bBase | op        | expected |
      | <a> | <ab>  | <b> | <bb>  | <op>      | <res>    |
    Then все результаты должны соответствовать ожиданиям

    Examples:
      | a  | ab | b  | bb | op        | res |
      | 10 | 10 | 5  | 10 | ADD       | 15  |
      | 10 | 10 | 5  | 10 | SUBTRACT  | 5   |
      | A  | 16 | 2  | 10 | MULTIPLY  | 20  |

  # Сценарий с передачей объекта через класс (DataTable to POJO)
  Scenario: Вычисления с объектами операций
    When я вычисляю следующий набор операций как объекты
      | a  | aBase | b | bBase | op       | expected |
      | A  | 16    | 2 | 10    | ADD      | 12       |
      | 11 | 10    | 1 | 10    | DIVIDE   | 11       |
    Then все результаты должны соответствовать ожиданиям

  # Сценарий с кастомным разделителем для списка
  Scenario: Пакет сложений с кастомным разделителем
    When я вычисляю сумму для списка пар "A:16-10:10; 11:10-1:10" с разделителем ";"
    Then результаты должны быть "20,12"

  # Поиск в журнале: проверка фильтров и диапазона дат
  Scenario: Поиск вычислений по периоду и фильтрам
    Given - в базе есть результаты вычислений
    When я запрашиваю операции с "2024-01-01T00:00:00" по "2024-12-31T23:59:59" с фильтром op=ADD, firstBase=16, secondBase=10
    Then я должен получить хотя бы 1 результат

